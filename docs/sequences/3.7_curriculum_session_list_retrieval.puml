@startuml

title 3.7 [P0] Curriculum Session List Retrieval : 커리큘럼별 세션 목록 조회

actor "User (Course Member)" as User
participant "SessionController" as Controller
participant "sessionTaskExecutor" as Executor
participant "SessionListService" as AppService
participant "SessionQueryRepository" as Repository

User -> Controller: GET /api/v1/sessions/curricula/{curriculumId}
activate Controller

Controller -> Executor: supplyAsync
activate Executor

Executor -> AppService: getCurriculumSessionList(curriculumId, request)
activate AppService

AppService -> Repository: findByCurriculumIdWithFilters(...)
activate Repository
Repository --> AppService: Page<Session>
deactivate Repository

loop for each Session
    AppService -> AppService: toSessionListResponse
end

AppService --> Executor: Page<SessionListResponse>
deactivate AppService

Executor --> Controller: CompletableFuture<Page<...>>
deactivate Executor

Controller --> User: 200 OK (Async Response)
deactivate Controller

@enduml
