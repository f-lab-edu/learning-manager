@startuml

title 3.6 [P0] Course Session List Retrieval : 과정별 세션 목록 조회

actor "User (Course Member)" as User
participant "SessionController" as Controller
participant "sessionTaskExecutor" as Executor
participant "SessionListService" as AppService
participant "SessionQueryRepository" as Repository

User -> Controller: GET /api/v1/sessions/courses/{courseId}
activate Controller

Controller -> Executor: supplyAsync
activate Executor

Executor -> AppService: getCourseSessionList(courseId, request)
activate AppService

AppService -> Repository: findByCourseIdWithFilters(...)
activate Repository
Repository --> AppService: Page<Session>
deactivate Repository

loop for each Session
    AppService -> AppService: toSessionListResponse
end

AppService --> Executor: Page<SessionListResponse>
deactivate AppService

Executor --> Controller: CompletableFuture<Page<...>>
deactivate Executor

Controller --> User: 200 OK (Async Response)
deactivate Controller

@enduml
